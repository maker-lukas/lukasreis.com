---
import Layout from "../../layouts/Layout.astro";
import BlogCard from "../../components/BlogCard.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf()
);
---

<Layout title="lukas/blog">
  <div class="page">
    <div class="container">
      <h2>Blog</h2>
      <div class="blog-posts">
        {posts.map((post) => (
          <BlogCard
            title={post.data.title}
            description={post.data.description}
            date={post.data.date}
            slug={post.slug}
            tags={post.data.tags}
          />
        ))}
      </div>
    </div>
  </div>
</Layout>

<style>
  .page {
    padding-block: 50px;
  }

  h2 {
    margin-bottom: 1.5ch;
  }

  .blog-posts {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
</style>
